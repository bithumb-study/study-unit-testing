## 10.4 테스트 구절에서 코드 재사용하기 

통합 테스트를 짧게 하기에 가장 좋은 방법 
- 비즈니스와 관련 없는 기술적인 부분을 비공개 메서드나 헬퍼 클래스로 추출하는 것 

### 10.4.1 준비 구절에서 코드 재사용하기 
- 비공개 팩토리 메서드 도입

### 10.4.2 실행 구절에서 코드 재사용하기
- 데코레이터 메서드를 사용 

### 10.4.3 검증 구절에서 코드 재사용하기
- 헬퍼 메서드를 사용 
- (C++) 플루언트 인터페이스를 확장 메서드로 구현 
  - 메소드 체이닝

### 10.4.4 테스트가 데이터베이스 트랜잭션을 너무 많이 생성하는가? 
- 빠른 피드백과 유지 보수성이 주는 이점을 생각하면 크게 고민할 문제는 아님 



## 10.5 데이터베이스 테스트에 대한 일반적인 질문

### 10.5.1 읽기 테스를 해야 하는가? 
- 쓰기 테스트 : 위험성이 높기 때문에 철저히 하는 것이 중요하다
- 읽기 테스트 : 가장 복잡하거나 중요한 읽기 작업만 테스트 하고 나머지는 무시해도 좋음 

### 10.5.2 레포지터리 테스트를 해야 하는가? 
- 유지비가 높고 회귀방지가 떨어져 테스트 스위트 손실
- 레포지터리는 직접 테스트하지 말고, 포괄적인 통합 테스트 스위트의 일부로 취급 



## 10.6 결론 
- 데이터베이스 테스트를 잘 만들면 버그로부터 훌륭하게 보호할 수 있다. 
- 관리 의존성에 직접 작동하는 통합 테스트 대규모 리팩토링을 대응할 가장 효율적인 방법이다. 